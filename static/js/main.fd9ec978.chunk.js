(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{74:function(e,t,a){e.exports=a(92)},79:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),s=(a(79),a(22)),i=a.n(s),l=a(34),u=a(56),p=a(25),h=a(68),m=a(57),f=a(67),d=a(135),b=a(136),g=a(133),y=a(94),v=a(62),E=a.n(v),S=a(131),k=a(66),w=a(45),x=a(69),O=a(65),P=a(31),j=a(134),N=a(141),C=a(93),I=a(142),F=[{label:"France"},{label:"Germany"},{label:"Spain"},{label:"Poland"}].map(function(e){return{value:e.label,label:e.label}}),D=Object(S.a)(function(e){return{root:{flexGrow:1,marginTop:15,backgroundColor:"white"},input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:18},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0}}});function W(e){var t=e.inputRef,a=Object(x.a)(e,["inputRef"]);return r.a.createElement("div",Object.assign({ref:t},a))}var R={Control:function(e){var t=e.children,a=e.innerProps,n=e.innerRef,c=e.selectProps,o=c.classes,s=c.TextFieldProps;return r.a.createElement(N.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:W,inputProps:Object(w.a)({className:o.input,ref:n,children:t},a)}},s))},Menu:function(e){return r.a.createElement(C.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},NoOptionsMessage:function(e){return r.a.createElement(g.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return r.a.createElement(I.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){return r.a.createElement(g.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.placeholder},e.innerProps),e.children)},SingleValue:function(e){return r.a.createElement(g.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return r.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}};function T(e){var t=D(),a=Object(P.a)(),n=r.a.useState(null),c=Object(k.a)(n,2),o=c[0],s=c[1];var i={input:function(e){return Object(w.a)({},e,{color:a.palette.text.primary,"& input":{font:"inherit"}})}};return r.a.createElement("div",{className:t.root},r.a.createElement(j.a,null,r.a.createElement(O.a,{classes:t,styles:i,inputId:"react-select-single",TextFieldProps:{label:"Country",InputLabelProps:{htmlFor:"react-select-single",shrink:!0}},placeholder:"Search a country",options:F,components:R,value:o,onChange:function(t){s(t),e.onChangeSearch(t)}})))}var z=Object(S.a)(function(e){return{bar:{backgroundColor:"#4caf50",paddingTop:15,marginBottom:15,position:"sticky"},h1:{fontSize:"2.5em",fontWeight:600,color:"#000",marginRight:"auto"},barBtn:{fontSize:"26"},barIco:{color:"#4caf50",fontSize:32}}}),A=function(e){var t=z();return r.a.createElement(d.a,{className:t.bar},r.a.createElement(b.a,null,r.a.createElement(g.a,{variant:"h1",className:t.h1},"High air pollution !"),r.a.createElement(y.a,{"aria-label":"Scroll up",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},className:t.barBtn,style:{backgroundColor:"black"}},r.a.createElement(E.a,{className:t.barIco}))),r.a.createElement(T,{onChangeSearch:e.onChangeSearch}))},B=a(143),M=a(138),G=a(139),J=a(137),V=a(64),q=a.n(V),L=function(e){return r.a.createElement(J.a,{in:e.showed,timeout:400},r.a.createElement(B.a,{className:e.classes.panelExpansion},r.a.createElement(M.a,{className:e.classes.panelSummary,expandIcon:r.a.createElement(q.a,null),"aria-controls":"panel"+e.index+"a-content",id:"panel"+e.index+"a-header"},r.a.createElement(g.a,{variant:"h2",className:e.classes.heading}," ",e.cityName)),r.a.createElement(G.a,null,r.a.createElement(g.a,null,e.cityDescribe))))},H=a(140),$=Object(S.a)(function(e){return{panelSummary:{fontWeight:700},heading:{fontSize:e.typography.pxToRem(17),fontWeight:600},progress:{position:"absolute",left:"calc(50% - 20px)",top:"calc(50% - 20px)",color:"#4caf50"}}}),_=function(e){var t,a=$(),n=[];t=e.showed?"none":"block";return e.cities.forEach(function(t,c){n.push(r.a.createElement(L,{classes:a,showed:e.showed,key:c,index:c,cityName:t.city,cityDescribe:"Country: ".concat(e.country,". \n                        We found ").concat(t.locations," locations in this city! \n                        Pollution is eqaul to: ").concat(t.count," ")}))}),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"h4",align:"center",paragraph:!0},e.cities[0]?e.country:e.error),r.a.createElement("div",null,r.a.createElement(H.a,{style:{display:t},className:a.progress}),n))},K=(a(91),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={cities:[],countryInput:null,countryName:null,error:null,AccordionShowed:!0},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getData",value:function(){var e=Object(l.a)(i.a.mark(function e(){var t,a,n,r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.countryInput,a="https://api.openaq.org/v1/cities?country=".concat(t,"&limit=10&order_by=count&sort=desc"),e.next=4,fetch(a);case 4:if(!(n=e.sent).ok){e.next=14;break}return r=[],e.next=9,n.json();case 9:(c=e.sent).results.forEach(function(e){r.push(e)}),c.results&&(this.setState({cities:r,error:null}),localStorage.setItem("localData",JSON.stringify(c.results))),e.next=15;break;case 14:this.setState({error:n.statusText});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark(function e(){var t,a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=JSON.parse(localStorage.getItem("localData")))){e.next=18;break}a=t[0].country,n=[],e.t0=a,e.next="FR"===e.t0?7:"DE"===e.t0?9:"PL"===e.t0?11:"SP"===e.t0?13:15;break;case 7:return a="France",e.abrupt("break",16);case 9:return a="Germany",e.abrupt("break",16);case 11:return a="Poland",e.abrupt("break",16);case 13:return a="Spain",e.abrupt("break",16);case 15:return e.abrupt("break",16);case 16:t.forEach(function(e){n.push(e)}),this.setState({countryName:a,cities:n});case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onChangeSearch",value:function(){var e=Object(l.a)(i.a.mark(function e(t){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.value,n=this.state.countryInput,e.t0=a,e.next="France"===e.t0?5:"Germany"===e.t0?7:"Poland"===e.t0?9:"Spain"===e.t0?11:13;break;case 5:return n="FR",e.abrupt("break",14);case 7:return n="DE",e.abrupt("break",14);case 9:return n="PL",e.abrupt("break",14);case 11:return n="ES",e.abrupt("break",14);case 13:return e.abrupt("break",14);case 14:if(n===this.state.countryInput){e.next=20;break}return e.next=17,this.setState({countryInput:n,AccordionShowed:!1,countryName:a});case 17:return e.next=19,this.getData();case 19:this.setState({AccordionShowed:!0});case 20:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{onChangeSearch:this.onChangeSearch.bind(this)}),r.a.createElement(_,{country:this.state.countryName,cities:this.state.cities,showed:this.state.AccordionShowed,error:this.state.error}))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[74,1,2]]]);
//# sourceMappingURL=main.fd9ec978.chunk.js.map